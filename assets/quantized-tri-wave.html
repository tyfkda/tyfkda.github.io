<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="noindex">
    <title>階段三角波</title>
    <script src="//cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.js" defer></script>
    <script src="quantized-tri-wave.js"></script>
    <style>
      .mycanvas {
        border:1px solid gray;
        border-radius:4px;
        margin:8px;
      }
    </style>
  </head>
  <body>
    <div x-data="initialData" x-init="init()">
      <div>
        <select x-model="wave">
          <option :value="'quantized'">階段三角波</option>
          <option :value="'triangle'">三角波</option>
          <!--option :value="'square'">矩形波</option>
          <option :value="'sine'">サイン波</option-->
        </select>

        <input x-model="div" type="text" size="4" readonly :disabled="wave!='quantized'" />
        <input x-model="div" type="range" min="2" max="16" step="1" :disabled="wave!='quantized'" />
        <input x-model="n" type="text" size="4" readonly :disabled="wave!='quantized'" />
        <input x-model="n" type="range" min="1" max="10" :disabled="wave!='quantized'" />
      </div>
      <div>
        周波数
        <input x-model="frequency" type="text" size="4" readonly />
        <input x-model="frequency" type="range" min="10" max="1000" />
      </div>
      <div>
        <button @click="playing ? stop() : play()" x-text="playing ? 'Stop' : 'Play'"></button>
      </div>
    </div>

    <canvas id="mycanvas" class="mycanvas" width="600" height="256"></canvas>
  </body>
</html>
