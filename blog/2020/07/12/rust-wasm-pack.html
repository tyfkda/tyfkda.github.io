<!DOCTYPE html>
<html lang="ja">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Rustã§ä½œã£ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã‚‚å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ã—ãŸã‹ã£ãŸã®ã§èª¿ã¹ã¦ã¿ãŸã€‚
Rustã®ã‚³ãƒ¼ãƒ‰ã‚’Wasmã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ã‹ã›ã‚‹ã‚ˆã†ãªç’°å¢ƒã‚’ä½œã£ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ãŒã‚ã£ã¦ã€ãã‚Œã«æ²¿ã£ã¦é€²ã‚ã‚Œã°ã‚ã‚‹ç¨‹åº¦ã¯å‹•ã‹ã›ã‚‹ã‚“ã ã‘ã©ã€
ç”»åƒèª­ã¿è¾¼ã¿æ™‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§å‡¦ç†ã—ã‚ˆã†ã¨ã—ãŸã‚‰ãƒãƒã£ãŸã€‚">
    

    <!--Author-->
    
        <meta name="author" content="tyfkda">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="ã€Rustã€‘éåŒæœŸå‡¦ç†ã§ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ã†ã¾ãä½¿ã†æ–¹æ³•ã¯ã‚ã‚‹ã‚“ã ã‚ã†ã‹â€¦"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Kludge Factory"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>ã€Rustã€‘éåŒæœŸå‡¦ç†ã§ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ã†ã¾ãä½¿ã†æ–¹æ³•ã¯ã‚ã‚‹ã‚“ã ã‚ã†ã‹â€¦ - Kludge Factory</title>

    <link rel="alternative" href="/atom.xml" title="Kludge Factory" type="application/atom+xml">

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">


    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Canonical link -->
    <link rel="canonical" href="https://tyfkda.github.io/blog/2020/07/12/rust-wasm-pack.html"/>

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4XZBJ9Y9SG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4XZBJ9Y9SG');
</script>



    <!-- favicon -->
    

<meta name="generator" content="Hexo 7.0.0"></head>


<body>
    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Kludge Factory</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog/archive/">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/assets/img/home-bg.jpeg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>ã€Rustã€‘éåŒæœŸå‡¦ç†ã§ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ã†ã¾ãä½¿ã†æ–¹æ³•ã¯ã‚ã‚‹ã‚“ã ã‚ã†ã‹â€¦</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2020-07-12
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-md-5 post-tags">
                    
                        


<a href="/tags/wasm/">#wasm</a> <a href="/tags/rust/">#rust</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-9 col-md-9">
                <p>Rustã§ä½œã£ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã‚‚å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ã—ãŸã‹ã£ãŸã®ã§èª¿ã¹ã¦ã¿ãŸã€‚
Rustã®ã‚³ãƒ¼ãƒ‰ã‚’Wasmã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ã‹ã›ã‚‹ã‚ˆã†ãªç’°å¢ƒã‚’ä½œã£ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ãŒã‚ã£ã¦ã€ãã‚Œã«æ²¿ã£ã¦é€²ã‚ã‚Œã°ã‚ã‚‹ç¨‹åº¦ã¯å‹•ã‹ã›ã‚‹ã‚“ã ã‘ã©ã€
ç”»åƒèª­ã¿è¾¼ã¿æ™‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§å‡¦ç†ã—ã‚ˆã†ã¨ã—ãŸã‚‰ãƒãƒã£ãŸã€‚</p>
<span id="more"></span>

<h3 id="wasm-packã®å°å…¥"><a href="#wasm-packã®å°å…¥" class="headerlink" title="wasm-packã®å°å…¥"></a>wasm-packã®å°å…¥</h3><p>ä»¥å‰Rustã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ã‹ã™ãƒªãƒã‚¸ãƒˆãƒªã§Emscriptenã‚’ä½¿ç”¨ã—ã¦ã„ãŸã®ã‚’è¦‹ãŸã“ã¨ãŒã‚ã£ãŸã€‚
ãã‚Œã‚’å‚è€ƒã«ã—ã‚ˆã†ã¨ã—ã¦ã„ãŸã‚“ã ã‘ã©ã€ä»–ã«ã™ã”ãã„ã„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒã‚ã£ãŸï¼š
<a href="https://rustwasm.github.io/book/introduction.html">Introduction - Rust and WebAssembly</a></p>
<p>ä¸Šã®æœ¬ã§ã¯<a href="https://github.com/rustwasm/wasm-pack">wasm-pack</a>ã¨ã„ã†ã‚‚ã®ã‚’ä½¿ã£ã¦ã„ã¦ã€
<a href="https://github.com/rustwasm/wasm-pack-template">wasm-pack-template</a>ã¨ã„ã†wasmã¸ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„
ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å‹•ã‹ã™JavaScriptã¨ã®ã‚„ã‚Šã¨ã‚ŠãŒç”¨æ„ã•ã‚ŒãŸé››å½¢ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã—ã¦ã„ã£ã¦ãƒ©ã‚¤ãƒ•ã‚²ãƒ¼ãƒ ã‚’ä½œæˆã—ã¦ã„ã‚‹ã€‚</p>
<p>ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯Rustã§ã¯ãƒ©ã‚¤ãƒ•ã‚²ãƒ¼ãƒ ã®è¨ˆç®—ã ã‘ã‚’è¡Œã£ã¦ã„ã¦ã€ã‚­ãƒ£ãƒ³ãƒã‚¹ã¸ã®æç”»ã¯JavaScriptã§è¡Œã£ã¦ã„ã‚‹ã€‚</p>
<h3 id="Rustã§DOMã€ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œ"><a href="#Rustã§DOMã€ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œ" class="headerlink" title="Rustã§DOMã€ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œ"></a>Rustã§DOMã€ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œ</h3><p>æç”»å‡¦ç†ã‚‚Rustå´ã‹ã‚‰è¡Œã†ã«ã¯DOMæ“ä½œã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
wasm-bindgenã«<a href="https://rustwasm.github.io/wasm-bindgen/web-sys/index.html">web-sys</a>ã¨ã„ã†crateãŒã‚ã£ã¦ã€ã“ã‚Œã‚’ä½¿ã†ã¨Rustä¸Šã§DOMæ“ä½œãŒã§ãã‚‹ã€‚</p>
<p><a href="https://rustwasm.github.io/wasm-bindgen/examples/paint.html">web-sys: A Simple Paint Program - The <code>wasm-bindgen</code> Guide</a>
ã®ã‚­ãƒ£ãƒ³ãƒã‚¹ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ã—ã¦æç”»ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãŒå‚è€ƒã«ãªã‚‹ã€‚</p>
<h3 id="ç”»åƒèª­ã¿è¾¼ã¿"><a href="#ç”»åƒèª­ã¿è¾¼ã¿" class="headerlink" title="ç”»åƒèª­ã¿è¾¼ã¿"></a>ç”»åƒèª­ã¿è¾¼ã¿</h3><p>ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã™ã‚‹ç”»åƒã¯ <code>Image</code> ã‚’ç”Ÿæˆã—ã¦ <code>src</code> ã«ãƒ‘ã‚¹ã‚’ã‚»ãƒƒãƒˆã™ã‚Œã°èª­ã¿è¾¼ã‚ã‚‹ã€‚
ã§èª­ã¿è¾¼ã¿ãŒå®Œäº†ã—ãŸã¨ãã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ <code>onload</code> ã§ãªã«ã‹å‡¦ç†ã•ã›ãŸã„å ´åˆã«ã©ã†ã™ã‚‹ã‹ã€‚</p>
<p><a href="https://toranoana-lab.hatenablog.com/entry/2019/08/14/190159">WebAssemblyã§éŠã‚“ã§ã¿ã‚‹ãã®2ã€œweb_sysã§ãƒ–ãƒ­ãƒƒã‚¯å´©ã—ã€œ - è™ã®ç©´é–‹ç™ºå®¤ãƒ–ãƒ­ã‚°</a>
ã®ã€Œã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®è¨­å®šã€ã‚’å‚è€ƒã«ï¼š</p>
<figure class="highlight rs"><table><tr><td class="code"><pre><span class="line"><span class="keyword">use</span> wasm_bindgen::JsCast;</span><br><span class="line"><span class="keyword">use</span> web_sys::HtmlImageElement;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">App</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">load_image</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, path: &amp;<span class="type">str</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">image</span> = HtmlImageElement::<span class="title function_ invoke__">new</span>().<span class="title function_ invoke__">unwrap</span>();</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">path</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(path);</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">closure</span> = Closure::<span class="title function_ invoke__">wrap</span>(<span class="type">Box</span>::<span class="title function_ invoke__">new</span>(<span class="keyword">move</span> |_event: web_sys::Event| &#123;</span><br><span class="line">                web_sys::console::<span class="title function_ invoke__">log_1</span>(&amp;<span class="built_in">format!</span>(<span class="string">&quot;Image loaded: &#123;&#125;, &#123;:?&#125;&quot;</span>, &amp;path, &amp;_event).<span class="title function_ invoke__">into</span>());</span><br><span class="line">            &#125;) <span class="keyword">as</span> <span class="type">Box</span>&lt;<span class="keyword">dyn</span> <span class="title function_ invoke__">FnMut</span>(web_sys::Event)&gt;);</span><br><span class="line">            image.<span class="title function_ invoke__">set_onload</span>(<span class="title function_ invoke__">Some</span>(closure.<span class="title function_ invoke__">as_ref</span>().<span class="title function_ invoke__">unchecked_ref</span>()));</span><br><span class="line">            closure.forget();</span><br><span class="line">        &#125;</span><br><span class="line">        image.<span class="title function_ invoke__">set_src</span>(&amp;path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Rustã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ <code>web_sys::Closure</code> ã«ã—ã¦ã€ãã‚Œã‹ã‚‰ <code>js_sys::Function</code> ã‚’å–ã‚Šå‡ºã—ã¦è¨­å®šã™ã‚‹</li>
<li>æœ¬å½“ãªã‚‰ç”Ÿæˆã—ãŸã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒã‚¹ã‚³ãƒ¼ãƒ—ã‹ã‚‰æŠœã‘ãŸæ™‚ç‚¹ã§è§£æ”¾ã•ã‚Œã¦ã—ã¾ã†ã¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯æ™‚ã«ä¸å®šã«ãªã£ã¦ã—ã¾ã£ã¦ãƒã‚ºã„ã®ã§
ä¿æŒã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã‚“ã ã‘ã©ã€é¢å€’ãªã®ã§ <code>forget</code> ã§ãƒªãƒ¼ã‚¯ã•ã›ã¦ã—ã¾ã£ã¦ç”Ÿãç¶šã‘ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹</li>
<li>ï¼ˆå¾Œã§ã‚ã‹ã£ãŸã“ã¨ã ãŒ <code>onmousemove</code> ã¨é•ã£ã¦ <code>onload</code> ã¯è¤‡æ•°å›å‘¼ã³å‡ºã•ã‚Œãªã„ã®ã§ <code>FnMut</code> ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ã¯ãªã‹ã£ãŸã€å¾Œè¿°ï¼‰</li>
</ul>
<h3 id="ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«å€¤ã‚’æŒã¡è¾¼ã‚ãªã„ä»¶"><a href="#ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«å€¤ã‚’æŒã¡è¾¼ã‚ãªã„ä»¶" class="headerlink" title="ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«å€¤ã‚’æŒã¡è¾¼ã‚ãªã„ä»¶"></a>ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«å€¤ã‚’æŒã¡è¾¼ã‚ãªã„ä»¶</h3><p>ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯å‹•ãã‘ã©ã€å®Ÿéš›ã«ã¯ <code>onload</code> ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å†…ã§èª­ã¿è¾¼ã¿ã«æˆåŠŸã—ãŸç”»åƒã‚’ãƒ¡ãƒ³ãƒå¤‰æ•°ã«æ ¼ç´ã—ã¦ã€å¾Œã€…ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚
ã—ã‹ã— <code>self</code> ã®ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«å‚ç…§ã‚’ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã« <code>move</code> ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚
ãªã®ã§ãƒ¡ãƒ³ãƒå¤‰æ•°ã‚’ <code>Rc&lt;RefCell&gt;</code> ã«ã—ã¦ä½¿ãŠã†ã¨ã—ã¦ã‚‚ã€</p>
<figure class="highlight rs"><table><tr><td class="code"><pre><span class="line"><span class="keyword">use</span> std::cell::RefCell;</span><br><span class="line"><span class="keyword">use</span> std::collections::HashMap;</span><br><span class="line"><span class="keyword">use</span> std::rc::Rc;</span><br><span class="line"><span class="keyword">use</span> wasm_bindgen::JsCast;</span><br><span class="line"><span class="keyword">use</span> web_sys::&#123;HtmlImageElement&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    images: Rc&lt;RefCell&lt;HashMap&lt;<span class="type">String</span>, HtmlImageElement&gt;&gt;&gt;,  <span class="comment">// &lt;= Rc&lt;RefCell&gt; ã§</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">load_image</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, path: &amp;<span class="type">str</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">image</span> = HtmlImageElement::<span class="title function_ invoke__">new</span>().<span class="title function_ invoke__">unwrap</span>();</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">image</span> = Rc::<span class="title function_ invoke__">new</span>(RefCell::<span class="title function_ invoke__">new</span>(image));  <span class="comment">// &lt;= Rc&lt;RefCell&gt;ã§ä¿æŒ</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">path</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(path);</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">images</span> = <span class="keyword">self</span>.images.<span class="title function_ invoke__">clone</span>();  <span class="comment">// ãƒ¡ãƒ³ãƒå¤‰æ•° images ã®Rcå‚ç…§+1</span></span><br><span class="line">            <span class="keyword">let</span> <span class="variable">image_dup</span> = image.<span class="title function_ invoke__">clone</span>();     <span class="comment">// Rcå‚ç…§+1</span></span><br><span class="line">            <span class="keyword">let</span> <span class="variable">closure</span> = Closure::<span class="title function_ invoke__">wrap</span>(<span class="type">Box</span>::<span class="title function_ invoke__">new</span>(<span class="keyword">move</span> |_event: web_sys::Event| &#123;</span><br><span class="line">                web_sys::console::<span class="title function_ invoke__">log_1</span>(&amp;<span class="built_in">format!</span>(<span class="string">&quot;Image loaded: &#123;&#125;&quot;</span>, &amp;path).<span class="title function_ invoke__">into</span>());</span><br><span class="line">                <span class="comment">// ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£å†…ã§imageã‚’ä½¿ç”¨ã—ãŸã„ãŒã€æŒã¡è¾¼ã‚ãªã„</span></span><br><span class="line">                <span class="keyword">let</span> <span class="variable">image</span> = Rc::<span class="title function_ invoke__">try_unwrap</span>(image_dup).<span class="title function_ invoke__">unwrap</span>().<span class="title function_ invoke__">into_inner</span>();</span><br><span class="line">                <span class="comment">// ãƒ­ãƒ¼ãƒ‰ã«æˆåŠŸã—ãŸimageã‚’æ ¼ç´ã—ãŸã„ãŒã€ã§ããªã„</span></span><br><span class="line">                images.<span class="title function_ invoke__">borrow_mut</span>().<span class="title function_ invoke__">insert</span>(path, image);</span><br><span class="line">            &#125;) <span class="keyword">as</span> <span class="type">Box</span>&lt;<span class="keyword">dyn</span> <span class="title function_ invoke__">FnMut</span>(web_sys::Event)&gt;);</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">cb</span> = closure.<span class="title function_ invoke__">as_ref</span>().<span class="title function_ invoke__">unchecked_ref</span>();</span><br><span class="line">            image.<span class="title function_ invoke__">borrow_mut</span>().<span class="title function_ invoke__">set_onload</span>(<span class="title function_ invoke__">Some</span>(cb));</span><br><span class="line">            closure.forget();</span><br><span class="line">        &#125;</span><br><span class="line">        image.<span class="title function_ invoke__">borrow_mut</span>().<span class="title function_ invoke__">set_src</span>(&amp;path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ wasm-pack build</span><br><span class="line">[INFO]: ğŸ¯  Checking <span class="keyword">for</span> the Wasm target...</span><br><span class="line">[INFO]: ğŸŒ€  Compiling to Wasm...</span><br><span class="line">   Compiling wasm-game-of-life v0.1.0 (/Users/admin/tmp/rust-webasm/wasm-game-of-life)</span><br><span class="line">error[E0277]: expected a `std::ops::FnMut&lt;(web_sys::features::gen_Event::Event,)&gt;` closure, found `[closure@src/lib.rs:64:50: 68:14 path:std::string::String, image:std::rc::Rc&lt;std::cell::RefCell&lt;web_sys::features::gen_HtmlImageElement::HtmlImageElement&gt;&gt;, images:std::rc::Rc&lt;std::cell::RefCell&lt;std::collections::HashMap&lt;std::string::String, web_sys::features::gen_HtmlImageElement::HtmlImageElement&gt;&gt;&gt;]`</span><br><span class="line">  --&gt; src/lib.rs:64:41</span><br><span class="line">   |</span><br><span class="line">64 |               <span class="built_in">let</span> closure = Closure::wrap(Box::new(move |_event: web_sys::Event| &#123;</span><br><span class="line">   |  _________________________________________^</span><br><span class="line">65 | |                 web_sys::console::log_1(&amp;format!(<span class="string">&quot;Image loaded: &#123;&#125;&quot;</span>, &amp;path).into());</span><br><span class="line">66 | |                 <span class="built_in">let</span> image = Rc::try_unwrap(image_dup).unwrap().into_inner();</span><br><span class="line">67 | |                 images.borrow_mut().insert(path, image);</span><br><span class="line">68 | |             &#125;) as Box&lt;dyn FnMut(web_sys::Event)&gt;);</span><br><span class="line">   | |______________^ expected an `FnMut&lt;(web_sys::features::gen_Event::Event,)&gt;` closure, found `[closure@src/lib.rs:64:50: 68:14 path:std::string::String, image:std::rc::Rc&lt;std::cell::RefCell&lt;web_sys::features::gen_HtmlImageElement::HtmlImageElement&gt;&gt;, images:std::rc::Rc&lt;std::cell::RefCell&lt;std::collections::HashMap&lt;std::string::String, web_sys::features::gen_HtmlImageElement::HtmlImageElement&gt;&gt;&gt;]`</span><br><span class="line">   |</span><br><span class="line">   = <span class="built_in">help</span>: the trait `std::ops::FnMut&lt;(web_sys::features::gen_Event::Event,)&gt;` is not implemented <span class="keyword">for</span> `[closure@src/lib.rs:64:50: 68:14 path:std::string::String, image:std::rc::Rc&lt;std::cell::RefCell&lt;web_sys::features::gen_HtmlImageElement::HtmlImageElement&gt;&gt;, images:std::rc::Rc&lt;std::cell::RefCell&lt;std::collections::HashMap&lt;std::string::String, web_sys::features::gen_HtmlImageElement::HtmlImageElement&gt;&gt;&gt;]`</span><br><span class="line">   = note: required <span class="keyword">for</span> the cast to the object <span class="built_in">type</span> `dyn std::ops::FnMut(web_sys::features::gen_Event::Event)`</span><br><span class="line"></span><br><span class="line">error: aborting due to previous error; 1 warning emitted</span><br><span class="line"></span><br><span class="line">For more information about this error, try `rustc --explain E0277`.</span><br><span class="line">error: could not compile `wasm-game-of-life`.</span><br><span class="line"></span><br><span class="line">To learn more, run the <span class="built_in">command</span> again with --verbose.</span><br><span class="line">Error: Compiling your crate to WebAssembly failed</span><br><span class="line">Caused by: failed to execute `cargo build`: exited with <span class="built_in">exit</span> code: 101</span><br><span class="line">  full <span class="built_in">command</span>: <span class="string">&quot;cargo&quot;</span> <span class="string">&quot;build&quot;</span> <span class="string">&quot;--lib&quot;</span> <span class="string">&quot;--release&quot;</span> <span class="string">&quot;--target&quot;</span> <span class="string">&quot;wasm32-unknown-unknown&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã‚ˆã‚‹ã¨ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒ <code>FnMut</code> ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ãªã„ã®ã§ã‚¨ãƒ©ãƒ¼ã€ã¨ã®ã“ã¨</li>
<li>ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«ã¯ <code>FnOnc</code>e, <code>FnMu</code>t, <code>Fn</code> ã®3ç¨®é¡ã‚ã£ã¦ã€ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ãŸå¤‰æ•°ã‚’ <code>move</code> ã™ã‚‹ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¯ <code>FnMut</code> ã«ãªã‚‰ãªã„ã‚‰ã—ã„ï¼š<ul>
<li>å‚è€ƒï¼š<a href="https://qiita.com/shortheron/items/c1735dc4c7c78b0b55e9">Rustã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£traitã«ã¤ã„ã¦èª¿ã¹ãŸ(FnOnce, FnMut, Fn)</a></li>
</ul>
</li>
</ul>
<h3 id="FnOnce-ã‚’ä½¿ç”¨ã™ã‚‹"><a href="#FnOnce-ã‚’ä½¿ç”¨ã™ã‚‹" class="headerlink" title="FnOnce ã‚’ä½¿ç”¨ã™ã‚‹"></a>FnOnce ã‚’ä½¿ç”¨ã™ã‚‹</h3><p><a href="https://rustwasm.github.io/wasm-bindgen/api/wasm_bindgen/closure/struct.Closure.html#converting-fnonces-directly-into-javascript-functions-with-closureonce_into_js">wasm-bindgenã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>
ã‚’è¦‹ã¦ã„ãŸã‚‰ <code>FnOnce</code> ã‚’ä½¿ç”¨ã™ã‚‹ä¾‹ãŒå‡ºã¦ã„ãŸã€‚
Imageã® <code>onload</code> ã‚‚1åº¦ã—ã‹å‘¼ã³å‡ºã•ã‚Œãªã„ã®ã§ <code>FnMut</code> ã˜ã‚ƒãªãã¦ <code>FnOnce</code> ã§ã‚ˆã‹ã£ãŸã€‚
ãã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã¨ï¼š</p>
<figure class="highlight rs"><table><tr><td class="code"><pre><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">load_image</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, path: &amp;<span class="type">str</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">image</span> = HtmlImageElement::<span class="title function_ invoke__">new</span>().<span class="title function_ invoke__">unwrap</span>();</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">image</span> = Rc::<span class="title function_ invoke__">new</span>(RefCell::<span class="title function_ invoke__">new</span>(image));  <span class="comment">// &lt;= Rc&lt;RefCell&gt;ã§ä¿æŒ</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">path</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(path);</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">images</span> = <span class="keyword">self</span>.images.<span class="title function_ invoke__">clone</span>();</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">image_dup</span> = image.<span class="title function_ invoke__">clone</span>();</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">closure</span> = Closure::<span class="title function_ invoke__">once_into_js</span>(<span class="keyword">move</span> |_event: web_sys::Event| &#123;  <span class="comment">// &lt;= FnOnceã‚’å—ã‘å–ã‚Œã‚‹</span></span><br><span class="line">                web_sys::console::<span class="title function_ invoke__">log_1</span>(&amp;<span class="built_in">format!</span>(<span class="string">&quot;Image loaded: &#123;&#125;&quot;</span>, &amp;path).<span class="title function_ invoke__">into</span>());</span><br><span class="line">                <span class="keyword">let</span> <span class="variable">image</span> = Rc::<span class="title function_ invoke__">try_unwrap</span>(image_dup).<span class="title function_ invoke__">unwrap</span>().<span class="title function_ invoke__">into_inner</span>();  <span class="comment">// Rc&lt;RefCell&gt; ã§ãƒ©ãƒƒãƒ—ã—ãŸimageã‚’å–ã‚Šå‡ºã™</span></span><br><span class="line">                images.<span class="title function_ invoke__">borrow_mut</span>().<span class="title function_ invoke__">insert</span>(path, image);</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">cb</span> = closure.<span class="title function_ invoke__">as_ref</span>().<span class="title function_ invoke__">unchecked_ref</span>();</span><br><span class="line">            image.<span class="title function_ invoke__">borrow_mut</span>().<span class="title function_ invoke__">set_onload</span>(<span class="title function_ invoke__">Some</span>(cb));</span><br><span class="line">        &#125;</span><br><span class="line">        image.<span class="title function_ invoke__">borrow_mut</span>().<span class="title function_ invoke__">set_src</span>(&amp;path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Rc&lt;RefCell&gt;</code> ã§ <code>image</code> ã‚’ãƒ©ãƒƒãƒ—ã—ã¦ãŠã„ã¦ã€ä»–ã«å‚ç…§ã—ã¦ã„ã‚‹ç®‡æ‰€ã¯ãªã„ã¯ãšãªã®ã§ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£å†…ã§
<a href="https://doc.rust-lang.org/std/rc/struct.Rc.html#method.try_unwrap"><code>Rc::try_unwrap()</code></a>ã€
<a href="https://doc.rust-lang.org/beta/std/cell/struct.RefCell.html#method.into_inner"><code>RefCell::into_inner()</code></a>
ã§å–ã‚Šå‡ºã™ã“ã¨ãŒã§ãã‚‹</li>
</ul>
<p>ä¸Šè¨˜ã§ä¸€å¿œã¯å‹•ãã€‚</p>
<p>ã•ã‚‰ã« <code>onerror</code> ã‚‚å‡¦ç†ã‚’è¿½åŠ ã™ã‚‹ã¨ã—ã¦ãã¡ã‚‰ã§ã‚‚ <code>image</code> ã‚’å‚ç…§ã—ãŸã„ã¨ã„ã†ã“ã¨ã¯ãªã„ã¨æ€ã†ã‘ã©ã€ä»®ã«ãã†ã„ã†å ´åˆãŒã‚ã‚‹ã¨ã™ã‚‹ã¨å•é¡ŒãŒã‚ã‚‹ã€‚
<a href="https://rustwasm.github.io/wasm-bindgen/api/wasm_bindgen/closure/struct.Closure.html#method.once_into_js"><code>Closure::once_into_js</code></a>
ã®èª¬æ˜ã«æ›¸ã„ã¦ã‚ã‚‹ãŒã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’å‘¼ã³å‡ºã•ãªã„ã¨å‰Šé™¤ã•ã‚Œãªã„ã®ã§ã€ <code>image.set_onerror(None)</code> ãªã©ã¨ã—ã¦ã‚‚ <code>image</code> ã¸ã®å‚ç…§ãŒæ®‹ã£ã¦ã—ã¾ã†ãŸã‚ <code>try_unwrap()</code> ã«å¤±æ•—ã™ã‚‹ã“ã¨ã«ãªã‚‹ã€‚</p>
<p>ã¾ãŸåŒæ§˜ã«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¨ <code>onload</code> ãŒå‘¼ã³å‡ºã•ã‚Œãªã„ãŸã‚ãƒªãƒ¼ã‚¯ã—ã¦ã—ã¾ã†ã€‚</p>
<h3 id="ç•ªå¤–ç·¨ï¼šJavaScriptã«ä»»ã›ã‚‹"><a href="#ç•ªå¤–ç·¨ï¼šJavaScriptã«ä»»ã›ã‚‹" class="headerlink" title="ç•ªå¤–ç·¨ï¼šJavaScriptã«ä»»ã›ã‚‹"></a>ç•ªå¤–ç·¨ï¼šJavaScriptã«ä»»ã›ã‚‹</h3><p>Rust ã ã‘ã§è§£æ±ºã™ã‚‹ã®ã¯é›£ã—ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨è€ƒãˆã¦ã€åˆ¥ã®æ‰‹æ®µã¨ã—ã¦ç”»åƒã®èª­ã¿è¾¼ã¿ã¯JavaScriptã«ä»»ã›ã‚‹ã¨ã„ã†æ–¹æ³•ã‚’æ€ã„ã¤ã„ãŸã€‚
Rustã ã¨æ‰€æœ‰æ¨©ã®ç®¡ç†ãŒé›£ã—ã„ã®ã§JavaScriptã§èª­ã¿è¾¼ã¾ã›ã¦ã€ <code>onload</code> ã‚„ <code>onerror</code> ã§ç‰¹å®šã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã™ã‚Œã°è§£æ±ºã§ãã‚‹ï¼š</p>
<figure class="highlight rs"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Rust</span></span><br><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    images: HashMap&lt;<span class="type">String</span>, HtmlImageElement&gt;,  <span class="comment">//Rc&lt;RefCell&lt;&gt;&gt;,</span></span><br><span class="line">    load_image_fn: js_sys::Function,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[wasm_bindgen]</span></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">new</span>(canvas_id: &amp;<span class="type">str</span>, load_image_fn: js_sys::Function) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">        <span class="keyword">Self</span> &#123;</span><br><span class="line">            images: HashMap::<span class="title function_ invoke__">new</span>(),</span><br><span class="line">            load_image_fn,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">load_image</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, path: &amp;<span class="type">str</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">this</span> = JsValue::NULL;</span><br><span class="line">        <span class="comment">// JavaScript ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§èª­ã¿è¾¼ã‚“ã§ã‚‚ã‚‰ã†</span></span><br><span class="line">        <span class="keyword">self</span>.load_image_fn.<span class="title function_ invoke__">call1</span>(&amp;this, &amp;JsValue::<span class="title function_ invoke__">from</span>(path))</span><br><span class="line">            .<span class="title function_ invoke__">expect</span>(<span class="string">&quot;cannot call load_image_fn&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”»åƒèª­ã¿è¾¼ã¿ã«æˆåŠŸã—ãŸã‚‰å‘¼ã³å‡ºã—ã¦ã‚‚ã‚‰ã†</span></span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">onload_succeeded</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, path: <span class="type">String</span>, image: HtmlImageElement) &#123;</span><br><span class="line">        <span class="keyword">self</span>.images.<span class="title function_ invoke__">insert</span>(path, image);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// JS</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">App</span> &#125; <span class="keyword">from</span> <span class="string">&quot;wasm-game-of-life&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title class_">App</span>.<span class="title function_">new</span>(</span><br><span class="line">  <span class="string">&#x27;game-of-life-canvas&#x27;</span>,</span><br><span class="line">  <span class="comment">// load_image_fn</span></span><br><span class="line">  <span class="function">(<span class="params">path</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> image = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">    image.<span class="property">onload</span> = <span class="function">(<span class="params">_event</span>) =&gt;</span> app.<span class="title function_">onload_succeeded</span>(path, image)  <span class="comment">// &lt;= èª­ã¿è¾¼ã‚ãŸã‚‰Rustã«æ¸¡ã™</span></span><br><span class="line">    image.<span class="property">onerror</span> = <span class="function">(<span class="params">_event</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Load image failed: $path`</span>)</span><br><span class="line">    image.<span class="property">src</span> = path</span><br><span class="line">  &#125;,</span><br><span class="line">)</span><br><span class="line">app.<span class="title function_">load_image</span>(<span class="string">&#x27;image.png&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>ãƒ¡ãƒ³ãƒå¤‰æ•°ã‚’ <code>Rc&lt;RefCell&gt;</code> ã§æŒã¤å¿…è¦ãŒãªã„ã®ãŒã‚ˆã„</li>
<li><code>onload</code> ã§JavaScriptã‹ã‚‰Rustã®æ‰€å®šã®ãƒ¡ã‚½ãƒƒãƒ‰(<code>onload_succeeded</code>)ã‚’å¼•æ•°ä»˜ãã§å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚‹ã®ã§ã€è‡ªç”±åº¦ã¯ãªã„</li>
</ul>
<p>ã“ã‚Œã€wasmãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã§JavaScriptãŒä½¿ãˆã‚‹ã‹ã‚‰ã„ã„ã‘ã©ã€åŒã˜ã‚ˆã†ãªéåŒæœŸå‡¦ç†ã‚’Rustã ã‘ã§è§£æ±ºã—ã‚ˆã†ã¨ã—ãŸã‚‰ã©ã†ã—ãŸã‚‰ã„ã„ã‚“ã ã‚ã†ã‹ã€‚
ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚„æ‰€æœ‰æ¨©ã‚„ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ãŒé›£ã—ã„ã— <code>Rc&lt;RefCell&gt;</code> ã¾ã¿ã‚Œã«ãªã‚‹ã—â€¦ã€‚</p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li>Rust-wasm: <a href="https://rustwasm.github.io/book/introduction.html">Rust and WebAssembly</a></li>
<li>wasm-pack: <a href="https://rustwasm.github.io/wasm-pack/book/">Hello wasm-pack!</a></li>
<li>wasm-bindgen: <a href="https://rustwasm.github.io/docs/wasm-bindgen/">The <code>wasm-bindgen</code> Guide</a></li>
<li><a href="https://toranoana-lab.hatenablog.com/entry/2019/08/14/190159">WebAssemblyã§éŠã‚“ã§ã¿ã‚‹ãã®2ã€œweb_sysã§ãƒ–ãƒ­ãƒƒã‚¯å´©ã—ã€œ - è™ã®ç©´é–‹ç™ºå®¤ãƒ–ãƒ­ã‚°</a></li>
<li><a href="https://qiita.com/shortheron/items/c1735dc4c7c78b0b55e9">Rustã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£traitã«ã¤ã„ã¦èª¿ã¹ãŸ(FnOnce, FnMut, Fn)</a></li>
</ul>


                

            </div>

            <!-- Related posts -->
            <div class="col-lg-3 col-md-3">
                <div class="related-posts">
                    <hr>
                    <h3>é–¢é€£è¨˜äº‹</h3>
                    <ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/blog/2020/09/17/galangua.html" title="ã€Rustã€‘æ•ç²ã•ã‚ŒãŸè‡ªæ©Ÿã‚’å–ã‚Šè¿”ã—ã¦ãƒ‘ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—ã™ã‚‹ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã¿ãŸ" rel="bookmark">ã€Rustã€‘æ•ç²ã•ã‚ŒãŸè‡ªæ©Ÿã‚’å–ã‚Šè¿”ã—ã¦ãƒ‘ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—ã™ã‚‹ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã¿ãŸ</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/blog/2021/02/04/c-on-browser.html" title="ã€WASMã€‘Cã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å‹•ã‹ã™" rel="bookmark">ã€WASMã€‘Cã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å‹•ã‹ã™</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/blog/2023/03/16/ruby-wasm-quickstart.html" title="ruby.wasmã‚’ä½¿ã£ã¦ã¿ã‚‹" rel="bookmark">ruby.wasmã‚’ä½¿ã£ã¦ã¿ã‚‹</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/blog/2023/02/10/wasm-try-catch.html" title="ã€WASMã€‘ä¾‹å¤–ã‚’æ‰±ã†" rel="bookmark">ã€WASMã€‘ä¾‹å¤–ã‚’æ‰±ã†</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/blog/2020/11/22/wasm-bin-format.html" title="ã€WASMã€‘WASMã®ãƒã‚¤ãƒŠãƒªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ" rel="bookmark">ã€WASMã€‘WASMã®ãƒã‚¤ãƒŠãƒªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</a></h3></div></li></ul>
                </div>

                <!-- Recent posts -->
                <div class="recent-posts">
                    <hr>
                    <h3>æ–°ç€è¨˜äº‹</h3>
                    <ul class="recent_posts"><li class="recent_post"><a href="/blog/2023/11/09/deferred-shadow-mapping.html">ã€WebGPUã€‘Deferred Renderingã¨Shadow Mappingã¨</a></li><li class="recent_post"><a href="/blog/2023/10/10/webgpu-reaction-diffusion.html">WebGPUã§åå¿œæ‹¡æ•£ç³»</a></li><li class="recent_post"><a href="/blog/2023/09/03/ue-content-examples.html">ã€Unreal Engineã€‘æ©Ÿèƒ½åˆ¥ã‚µãƒ³ãƒ—ãƒ«ã§ãƒ–ãƒ«ãƒ¼ãƒ—ãƒªãƒ³ãƒˆé–“ã§ã‚„ã‚Šã¨ã‚Šã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¦ã¿ã‚‹</a></li><li class="recent_post"><a href="/blog/2023/08/29/customize-printf.html">ã€Cã€‘printfã«ç‹¬è‡ªã®è¡¨ç¤ºå½¢å¼ã‚’è¿½åŠ ã™ã‚‹</a></li><li class="recent_post"><a href="/blog/2023/08/25/backend-more-registers.html">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã‚‚ã£ã¨ãƒ¬ã‚¸ã‚¹ã‚¿ã‚’æ´»ç”¨ã™ã‚‹ãŸã‚ã«è¡Œã£ãŸå¯¾ç­–</a></li></ul>
                </div>
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>


    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/tyfkda" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2023 tyfkda<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



    <script type="text/javascript" async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-AMS-MML_SVG"></script>
</body>
</html>
